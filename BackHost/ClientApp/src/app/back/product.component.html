

<ng-template #form let-item="item">


  <nz-tabset [nzAnimated]="false">
    <nz-tab nzTitle="محتوای اصلی">
      <ng-container *ngTemplateOutlet="mainTemplate?.defaultIdStatusTitleForm;context:{item:item}"></ng-container>

      <form nz-form [formGroup]="item">
        <div nz-row>


          <nz-form-label [nzXs]="24" [nzSm]="6" [nzMd]="3">  دسته بندی والد</nz-form-label>
          <div nz-col [nzXs]="24" [nzSm]="18" [nzMd]="9">
            <nz-form-item>
              <nz-form-control>
                <nz-tree-select [nzNodes]="listCache.categoriesAsTree"
                                nzShowSearch
                                nzPlaceHolder="لطفا دسته بندی والد را انتخاب نمایید"
                                formControlName="CategoryId">
                </nz-tree-select>
              </nz-form-control>
            </nz-form-item>
          </div>


            <nz-form-label [nzXs]="24" [nzSm]="6" [nzMd]="3">  رنگ</nz-form-label>
            <div nz-col [nzXs]="24" [nzSm]="18" [nzMd]="9">
              <nz-form-item>
                <nz-form-control>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
      </form>
    </nz-tab>


    <nz-tab nzTitle="انواع محصولات ({{item.controls['Types'].value?.length}})">



      <form nz-form [formGroup]="item">
        <app-drag-and-drop-list formControlName="Types"
                                [deleteEnabled]="true"
                                [header]="header"
                                [body]="body">

          <ng-template #header>
            <th>ردیف</th>
            <th> نام/توضیحات  </th>
            <th>
              ویژگی ها
            </th>
            <th>
              تعداد موجود/
              تعداد فروخته شده/
              ماکزیمم تعداد قابل خرید در هر سفارش
            </th>
            <th>
              قیمت برای هر عدد/
              تخفیف برای هر عدد
            </th>
          </ng-template>
          <ng-template #body let-c="item" let-index="index">
            <td>{{index + 1}}</td>

            <td>
              <input [(ngModel)]="c.Title" nz-input (change)="makeItDirty(item)" [ngModelOptions]="{standalone: true}" />
              <input [(ngModel)]="c.Description" nz-input (change)="makeItDirty(item)" [ngModelOptions]="{standalone: true}" />
            </td>
            <td>
              <input [(ngModel)]="c.ColorId" nz-input (change)="makeItDirty(item)" [ngModelOptions]="{standalone: true}" />

            </td>
            <td>
              <nz-input-number [(ngModel)]="c.SupplyCount" [nzMin]="1" (change)="makeItDirty(item)" [ngModelOptions]="{standalone: true}"></nz-input-number>
              <nz-input-number [(ngModel)]="c.SoldCount" [nzMin]="1" (change)="makeItDirty(item)" [ngModelOptions]="{standalone: true}"></nz-input-number>
              <nz-input-number [(ngModel)]="c.MaxAllowedBuy" [nzMin]="1" (change)="makeItDirty(item)" [ngModelOptions]="{standalone: true}"></nz-input-number>
            </td>
            <td>
              <nz-input-number [(ngModel)]="c.Price" [nzMin]="1" (change)="makeItDirty(item)" [ngModelOptions]="{standalone: true}"></nz-input-number>
              <nz-input-number [(ngModel)]="c.Off" [nzMin]="1" (change)="makeItDirty(item)" [ngModelOptions]="{standalone: true}"></nz-input-number>
            </td>
          </ng-template>
        </app-drag-and-drop-list>
      </form>
    </nz-tab>
  </nz-tabset>







</ng-template>

<ng-template #viewMessage>
  آیدی: 012331323
</ng-template>
<ng-template #search>





</ng-template>


<ng-template #tableBody let-item="item">
  <td>{{ item.Id }}</td>
  <td>{{ item.Title }}</td>
  <td>{{ item.Create_}}</td>
  <ng-container *ngTemplateOutlet="mainTemplate?.statusView;context:{value:statusView(item.Status)}"></ng-container>
</ng-template>




<app-template #mainTemplate *ngIf="ok" [com]="this"></app-template>

